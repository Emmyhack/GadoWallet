/*! For license information please see injected.js.LICENSE.txt */
(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){var e,r,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.toStringTag||"@@toStringTag";function c(t,i,o,a){var c=i&&i.prototype instanceof u?i:u,l=Object.create(c.prototype);return n(l,"_invoke",function(t,n,i){var o,a,c,u=0,l=i||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,a=0,c=e,h.n=n,s}};function f(t,n){for(a=t,c=n,r=0;!d&&u&&!i&&r<l.length;r++){var i,o=l[r],f=h.p,y=o[2];t>3?(i=y===n)&&(c=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=t<2&&f<o[1])?(a=0,h.v=n,h.n=o[1]):f<y&&(i=t<3||o[0]>n||n>y)&&(o[4]=t,o[5]=n,h.n=y,a=0))}if(i||t>1)return s;throw d=!0,n}return function(i,l,y){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,y),a=l,c=y;(r=a<2?e:c)||!d;){o||(a?a<3?(a>1&&(h.n=-1),f(a,c)):h.n=c:h.v=c);try{if(u=2,o){if(a||(i="next"),r=o[i]){if(!(r=r.call(o,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,a<2&&(a=0)}else 1===a&&(r=o.return)&&r.call(o),a<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((r=(d=h.n<0)?c:t.call(n,h))!==s)break}catch(t){o=e,a=1,c=t}finally{u=1}}return{value:r,done:d}}}(t,o,a),!0),l}var s={};function u(){}function l(){}function d(){}r=Object.getPrototypeOf;var h=[][o]?r(r([][o]())):(n(r={},o,function(){return this}),r),f=d.prototype=u.prototype=Object.create(h);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,n(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=d,n(f,"constructor",d),n(d,"constructor",l),l.displayName="GeneratorFunction",n(d,a,"GeneratorFunction"),n(f),n(f,a,"Generator"),n(f,o,function(){return this}),n(f,"toString",function(){return"[object Generator]"}),(t=function(){return{w:c,m:y}})()}function n(e,t,r,i){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}n=function(e,t,r,i){function a(t,r){n(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!i,configurable:!i,writable:!i}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},n(e,t,r,i)}function r(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function c(e){r(a,i,o,c,s,"next",e)}function s(e){r(a,i,o,c,s,"throw",e)}c(void 0)})}}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}!function(){"use strict";if(window.solana&&window.solana.isgadoWallet)console.log("ðŸš« gado Wallet already injected");else{console.log("ðŸ”— Injecting gado Wallet provider...");var e=0,n=new Map,r=function(){return r=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isgadoWallet=!0,this.isPhantom=!1,this._publicKey=null,this._connected=!1,this._connecting=!1,this._readyState="NotDetected",this.setupMessageListener(),this.checkAutoConnect()},a=[{key:"publicKey",get:function(){return this._publicKey}},{key:"connected",get:function(){return this._connected}},{key:"readyState",get:function(){return this._readyState}},{key:"setupMessageListener",value:function(){var e=this;window.addEventListener("message",function(t){t.source===window&&t.origin===window.location.origin&&t.data&&"gada-wallet-content"===t.data.source&&e.handleMessage(t.data)})}},{key:"handleMessage",value:function(e){switch(e.type){case"CONNECT_RESPONSE":this.handleConnectResponse(e);break;case"SIGN_TRANSACTION_RESPONSE":this.handleSignTransactionResponse(e);break;case"SIGN_ALL_TRANSACTIONS_RESPONSE":this.handleSignAllTransactionsResponse(e);break;case"SIGN_MESSAGE_RESPONSE":this.handleSignMessageResponse(e);break;case"GET_ACCOUNT_RESPONSE":this.handleGetAccountResponse(e);break;case"AUTO_CONNECTED":this.handleAutoConnected(e);break;case"WALLET_DISCONNECTED":this.handleDisconnected();break;case"ACCOUNT_CHANGED":this.handleAccountChanged(e);break;case"NETWORK_CHANGED":this.handleNetworkChanged(e)}}},{key:"connect",value:(f=i(t().m(function n(){var r,i,o,a=this,c=arguments;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:if(r=c.length>0&&void 0!==c[0]?c[0]:{},!this._connected){t.n=1;break}return t.a(2,{publicKey:this._publicKey});case 1:if(!this._connecting){t.n=2;break}return t.a(2,new Promise(function(e,t){var n=function(){a._connected?e({publicKey:a._publicKey}):a._connecting?setTimeout(n,100):t(new Error("Connection failed"))};n()}));case 2:return this._connecting=!0,t.p=3,i={source:"gada-wallet-injected",type:"CONNECT_REQUEST",requestId:++e,appName:r.name||document.title,appIcon:r.icon||this.getFaviconUrl(),onlyIfTrusted:r.onlyIfTrusted||!1},t.n=4,this.sendRequest(i);case 4:if(!(o=t.v).success){t.n=5;break}return this._publicKey=this.createPublicKey(o.publicKey),this._connected=!0,this._readyState="Connected",this.emit("connect",this._publicKey),t.a(2,{publicKey:this._publicKey});case 5:throw new Error(o.error||"Connection failed");case 6:return t.p=6,this._connecting=!1,t.f(6);case 7:return t.a(2)}},n,this,[[3,,6,7]])})),function(){return f.apply(this,arguments)})},{key:"disconnect",value:(h=i(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:if(this._connected){e.n=1;break}return e.a(2);case 1:this._publicKey=null,this._connected=!1,this._readyState="NotDetected",this.emit("disconnect");case 2:return e.a(2)}},e,this)})),function(){return h.apply(this,arguments)})},{key:"signTransaction",value:(d=i(t().m(function n(r){var i,o;return t().w(function(t){for(;;)switch(t.n){case 0:if(this._connected){t.n=1;break}throw new Error("Wallet not connected");case 1:return i={source:"gada-wallet-injected",type:"SIGN_TRANSACTION",requestId:++e,transaction:this.serializeTransaction(r),message:"Sign transaction from ".concat(window.location.hostname)},t.n=2,this.sendRequest(i);case 2:if(!(o=t.v).success){t.n=3;break}return t.a(2,this.deserializeTransaction(o.signature));case 3:throw new Error(o.error||"Transaction signing failed");case 4:return t.a(2)}},n,this)})),function(e){return d.apply(this,arguments)})},{key:"signAllTransactions",value:(l=i(t().m(function n(r){var i,o,a=this;return t().w(function(t){for(;;)switch(t.n){case 0:if(this._connected){t.n=1;break}throw new Error("Wallet not connected");case 1:return i={source:"gada-wallet-injected",type:"SIGN_ALL_TRANSACTIONS",requestId:++e,transactions:r.map(function(e){return a.serializeTransaction(e)}),message:"Sign ".concat(r.length," transactions from ").concat(window.location.hostname)},t.n=2,this.sendRequest(i);case 2:if(!(o=t.v).success){t.n=3;break}return t.a(2,o.signatures.map(function(e){return a.deserializeTransaction(e)}));case 3:throw new Error(o.error||"Transaction signing failed");case 4:return t.a(2)}},n,this)})),function(e){return l.apply(this,arguments)})},{key:"signMessage",value:(u=i(t().m(function n(r){var i,o,a,c=arguments;return t().w(function(t){for(;;)switch(t.n){case 0:if(i=c.length>1&&void 0!==c[1]?c[1]:"utf8",this._connected){t.n=1;break}throw new Error("Wallet not connected");case 1:return o={source:"gada-wallet-injected",type:"SIGN_MESSAGE",requestId:++e,message:this.encodeMessage(r),display:i},t.n=2,this.sendRequest(o);case 2:if(!(a=t.v).success){t.n=3;break}return t.a(2,{signature:new Uint8Array(a.signature),publicKey:this.createPublicKey(a.publicKey)});case 3:throw new Error(a.error||"Message signing failed");case 4:return t.a(2)}},n,this)})),function(e){return u.apply(this,arguments)})},{key:"request",value:(s=i(t().m(function e(n,r){var i;return t().w(function(e){for(;;)switch(e.n){case 0:i=n,e.n="connect"===i?1:"disconnect"===i?3:"signTransaction"===i?5:"signAllTransactions"===i?7:"signMessage"===i?9:11;break;case 1:return e.n=2,this.connect(r);case 2:case 4:case 6:case 8:case 10:return e.a(2,e.v);case 3:return e.n=4,this.disconnect();case 5:return e.n=6,this.signTransaction(r.transaction);case 7:return e.n=8,this.signAllTransactions(r.transactions);case 9:return e.n=10,this.signMessage(r.message,r.display);case 11:throw new Error("Unsupported method: ".concat(n));case 12:return e.a(2)}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"on",value:function(e,t){this._eventHandlers||(this._eventHandlers={}),this._eventHandlers[e]||(this._eventHandlers[e]=[]),this._eventHandlers[e].push(t)}},{key:"off",value:function(e,t){if(this._eventHandlers&&this._eventHandlers[e]){var n=this._eventHandlers[e].indexOf(t);n>-1&&this._eventHandlers[e].splice(n,1)}}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._eventHandlers&&this._eventHandlers[e]&&this._eventHandlers[e].forEach(function(e){try{e.apply(void 0,n)}catch(e){console.error("Event handler error:",e)}})}},{key:"sendRequest",value:function(e){return new Promise(function(t,r){var i=setTimeout(function(){n.delete(e.requestId),r(new Error("Request timeout"))},3e4);n.set(e.requestId,{resolve:t,reject:r,timeout:i}),window.postMessage(e,window.location.origin)})}},{key:"handleConnectResponse",value:function(e){var t=n.get(e.requestId);t&&(clearTimeout(t.timeout),n.delete(e.requestId),e.success?t.resolve(e):t.reject(new Error(e.error)))}},{key:"handleSignTransactionResponse",value:function(e){var t=n.get(e.requestId);t&&(clearTimeout(t.timeout),n.delete(e.requestId),e.success?t.resolve(e):t.reject(new Error(e.error)))}},{key:"handleSignAllTransactionsResponse",value:function(e){var t=n.get(e.requestId);t&&(clearTimeout(t.timeout),n.delete(e.requestId),e.success?t.resolve(e):t.reject(new Error(e.error)))}},{key:"handleSignMessageResponse",value:function(e){var t=n.get(e.requestId);t&&(clearTimeout(t.timeout),n.delete(e.requestId),e.success?t.resolve(e):t.reject(new Error(e.error)))}},{key:"handleGetAccountResponse",value:function(e){var t=n.get(e.requestId);t&&(clearTimeout(t.timeout),n.delete(e.requestId),e.success?t.resolve(e):t.reject(new Error(e.error)))}},{key:"handleAutoConnected",value:function(e){this._publicKey=this.createPublicKey(e.publicKey),this._connected=!0,this._readyState="Connected",console.log("âœ… Auto-connected to gado Wallet"),this.emit("connect",this._publicKey)}},{key:"handleDisconnected",value:function(){var e=this._connected;this._publicKey=null,this._connected=!1,this._readyState="NotDetected",e&&this.emit("disconnect")}},{key:"handleAccountChanged",value:function(e){var t=this._publicKey;this._publicKey=this.createPublicKey(e.publicKey),t&&t.toString()!==this._publicKey.toString()&&this.emit("accountChanged",this._publicKey)}},{key:"handleNetworkChanged",value:function(e){this.emit("networkChanged",e.network)}},{key:"checkAutoConnect",value:(c=i(t().m(function n(){var r,i;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,r={source:"gada-wallet-injected",type:"GET_ACCOUNT",requestId:++e},t.n=1,this.sendRequest(r);case 1:(i=t.v).success&&(this._publicKey=this.createPublicKey(i.publicKey),this._connected=!0,this._readyState="Connected"),t.n=3;break;case 2:t.p=2,t.v,this._readyState="NotDetected";case 3:return t.a(2)}},n,this,[[0,2]])})),function(){return c.apply(this,arguments)})},{key:"createPublicKey",value:function(e){return{toString:function(){return e},toBase58:function(){return e},toBuffer:function(){for(var t,n,r=[],i=0;i<e.length;i++){if((t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".indexOf(e[i]))<0)throw new Error("Invalid character");for(n=0;n<r.length;++n)t+=58*r[n],r[n]=255&t,t>>=8;for(;t>0;)r.push(255&t),t>>=8}return new Uint8Array(r.reverse())},equals:function(t){return e===(t.toString?t.toString():t)}}}},{key:"serializeTransaction",value:function(e){if(e.serialize)return Array.from(e.serialize({requireAllSignatures:!1}));if(e instanceof Uint8Array)return Array.from(e);throw new Error("Invalid transaction format")}},{key:"deserializeTransaction",value:function(e){return{signature:new Uint8Array(e),publicKey:this._publicKey}}},{key:"encodeMessage",value:function(e){if("string"==typeof e)return Array.from((new TextEncoder).encode(e));if(e instanceof Uint8Array)return Array.from(e);throw new Error("Invalid message format")}},{key:"getFaviconUrl",value:function(){var e=document.querySelector('link[rel="icon"], link[rel="shortcut icon"]');return e?e.href:"".concat(window.location.origin,"/favicon.ico")}}],a&&o(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,c,s,u,l,d,h,f}(),a=new r;Object.defineProperty(window,"solana",{value:a,writable:!1,configurable:!1}),Object.defineProperty(window,"gadoWallet",{value:a,writable:!1,configurable:!1}),setTimeout(function(){window.dispatchEvent(new CustomEvent("gado-wallet-loaded",{detail:{gadoWallet:a}})),window.dispatchEvent(new CustomEvent("solana-wallet-loaded",{detail:{solana:a}})),console.log("âœ… gado Wallet provider ready")},100)}}()})();
//# sourceMappingURL=injected.js.map